#+TITLE: Interacting with postgresql with psql

* psql prompt

#+BEGIN_SRC sh
sudo -i -u postgres psql
#+END_SRC

* Usefull psql command

#+BEGIN_SRC sql
\? -- show all command
\l -- list all database
\c -- connect to database
\i file.sql -- execute file.sql script
\d users.persons -- show table info of persons on users schema
\du -- list all user
\dt -- list all table
\dt users.* -- list all table for users schema
\dn -- list all schema
#+END_SRC

* Create Database

#+BEGIN_SRC sql
CREATE DATABASE kawahedu;
#+END_SRC

* Create Schema

#+BEGIN_SRC sql
CREATE SCHEMA users;
#+END_SRC

* Create Table for users schema example

#+BEGIN_SRC sql
CREATE TABLE users.persons (
    PersonID int,
    LastName varchar(255),
    FirstName varchar(255),
    Address varchar(255),
    City varchar(255)
);
#+END_SRC

* Insert value into table persons from users schema

#+BEGIN_SRC sql
INSERT INTO users.persons (personid, lastname, firstname, address, city)
VALUES (1, 'Burhanudin', 'Muhammad Aviv', 'indonesia', 'jakarta timur');
#+END_SRC

* Show table value

#+BEGIN_SRC sql
SELECT * FROM users.persons;
#+END_SRC
* Data Type

| Name      | Aliases | Description                         |
|-----------+---------+-------------------------------------|
| bigint    | int8    | signed eight-byte integer           |
| bigserial | serial8 | autoincrementing eight-byte integer |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |
|           |         |                                     |

[[https://www.postgresql.org/docs/current/datatype.html][postgresql datatype]]
